---
layout: post
title: Fetching data asynchronously
categories: cpnt262
---

## Homework
1. JSON
    - Read: [Working with JSON data](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/JSON)
    - Tool: [JSON Placeholder](https://jsonplaceholder.typicode.com/)
2. `fetch()`
    - Read: [Fetching data from the server](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data)
    - Read: [How to use Fetch API for CRUD operations](https://dev.to/duhbhavesh/how-to-use-fetch-api-for-crud-operations-57a0) on dev.to
    - Reference: [Create, read, update and delete](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete) on Wikipedia
3. Reference
    - [List of Public APIs](https://github.com/public-apis/public-apis)

---

## Morning reflection
### Housekeeping
- Swapping Assignment 3 and 4 in the schedule.

---

## 1. HTTP: The Request/Response Cycle
### Learning Objectives
- Understand the purpose of the HTTP protocol.
- Summarize the [request/response cycle](https://medium.com/@jen_strong/the-request-response-cycle-of-the-web-1b7e206e9047).
- Describe common [response status codes](https://developer.mozilla.org/en-US/docs/Web/HTTP/Status):
    - `200 OK`
    - `304 Not Modified`
    - `404 Not Found`
    - `418 I'm a teapot`
    - `500 Internal Server Error`
- Locate where HTTP headers are listed in the browser inspector.

### Terminology
Resource
: Anything that can accessed via the web. Examples: text file (HTML, CSS, JS, etc), images, video, etc.

HTTP Request
: A text string generated by the client (browser) and sent to the server containing the specifications of the resource the client is asking for.

HTTP Response
: The resource sent by a server to a client in response to an HTTP request. 

HTTP Header
: A name/value pair that specifies various details of a request (request header) or response (response header).

HTTP Method
: "Action verbs" that map to CRUD operations.

Endpoint
: The URL of a requested resource.

### Key Takeaways
- We'll dive deeper into HTTP when we get to Node. For now, we're only retrieving information with the GET method and were mostly concerned with the `200` and `404` status codes.

---

## 2. JSON vs Javascript objects
### Learning Objectives
- Understand the purpose of JSON.
- Explain the [differences between JSON and javascript objects](https://medium.com/@easyexpresssoft/object-literal-vs-json-7a2084872907).
- Summarize the most common JSON structures used online:
  - a single value
  - an array of values
  - an object of values

### Terminology
JSON
: A lightweight data-interchange format that is inspired by the Javascript object. It's simple for humans to read and write and simple for machines to parse and generate.

### Materials
- [List of Public APIs](https://github.com/public-apis/public-apis)
- [Tony's Definitions JSON Endpoint](https://json-express.herokuapp.com/api/v0/definitions)
  - For testing `.catch()`: [Same API with no CORS header](https://sait-wbdv-no-cors.herokuapp.com/api/v0/definitions)

### Key Takeaways
- The primary purpose of JSON is to send data over HTTP.
- Even though JSON stands for "Javascript Object Notation", it's a data format that is technology agnostic. JSON is used by most programming languages when transferring data over the internet.
- JSON is eventually converted to the native data format of whatever programming language is using it. For example, PHP will convert a JSON object into an associative array (PHP's version of a Javascript object). 

---

## 3. Using the `fetch` API
### Learning Objectives
- Describe the problem that promises solve.
- Summarize the two states of a promise:
  - `success` -> `.then(callback)`
  - `failure` -> `.catch(callback)`
- Demonstrate the use of a promise using the browser `fetch` API.

### Terminology
Promise
: A fancy way to chain asynchronous functions. If a promise is successful, it will pass a value to `.then()`; otherwise it will pass an error to `.catch()`.

### Materials
- MDN: [Using fetch](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch)
- Gist: [fetch: Retrieving data asynchronously](https://gist.github.com/acidtone/33304c82f8d22e9a330003b19a147303)
- In-class from W7R: [Definitions loop](https://github.com/sait-wbdv/in-class/tree/main/w7r/4-objects)

### Key Takeaways
See the above Gist.

---

## Open lab-time
- Using the [random array item](https://gist.github.com/acidtone/2a3cac26a229aa95685e5cf6344f2e4e) exercise, [`fetch`](https://gist.github.com/acidtone/33304c82f8d22e9a330003b19a147303) and this [list of Public APIs](https://github.com/public-apis/public-apis) create a "random thing of the day" page using a 3rd party API.

---

### Tony's goals for Lab-Time
- Refactor the Scope exercise answers into markdown?

---

## Dailies
- Submit today's Codepen/repo/gist to the Dailies section (in Assessments) in Brightspace.